Application has thrown an uncaught exception and is terminated:
TypeError: Cannot read property 'criteria' of undefined
    at Function.SpellSchema.statics.list (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\model\spell.js:50:27)
    at Promise.module.exports.app.get.res.render.title (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\routes\class.js:36:31)
    at Promise.onResolve (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\node_modules\mpromise\lib\promise.js:162:8)
    at Promise.EventEmitter.emit (events.js:96:17)
    at Promise.emit (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\node_modules\mpromise\lib\promise.js:79:38)
    at Promise.fulfill (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\node_modules\mpromise\lib\promise.js:92:20)
    at Promise.resolve (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\lib\promise.js:108:15)
    at Promise.onResolve (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\node_modules\mpromise\lib\promise.js:162:8)
    at Promise.EventEmitter.emit (events.js:96:17)
    at Promise.emit (C:\Users\as_tr_000\Documents\My Web Sites\node-spellbook-app\node_modules\mongoose\node_modules\mpromise\lib\promise.js:79:38)
